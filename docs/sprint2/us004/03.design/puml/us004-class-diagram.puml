@startuml
'skinparam monochrome true
skinparam packageStyle rectangle
skinparam shadowing false
skinparam linetype polyline
'skinparam linetype orto

skinparam classAttributeIconSize 0

'left to right direction

class ApplicationSession
{
    + static getInstance()
    + getCurrentSession()
}

class UserSession
{
    + getUserEmail()
}

class Collaborator {
    - name: String
    - birthdate: String
    - admission date: String
    - address: String
    - mobile Contact: int
    - email contact: String
    - ID doc type: String
    - ID number: int
    - List<Skill> skills
}

class AssignSkillController {
    - List<Skill> selectedSkills
    + AssignSkillController(organizationRepository, skillRepository, collaboratorRepository)
    + getCollaborator(ID number: int): boolean
    + getSkill(name: String): boolean
    + assignSkill(): void
}

class Skill {
    - name: String
}

class HRManager {
    + manageCollaborators(): void
}

class CollaboratorRepository {
   - List<Collaborator> collaborators
   + boolean save(Collaborator collaborator)
   + Collaborator findByID(int IDnumber)
 }

 class SkillRepository {
    - List<Skill> skills
    + Skill findByName(String name)
  }

 class Organization {
   - String name
   - String vatNumber
   - String address
   - String phone
   - String email
   + assignSkill(Collaborator collaborator, Skill skill)
   + Collaborator findByID(int IDnumber)
   + Skill findByName(String name)
 }

 class OrganizationRepository {
   + findByName(String name)
   + findByVatNumber(String vatNumber)
 }

 class Repositories {
   + getInstance() : Repositories
   + getCollaboratorRepository() : CollaboratorRepository
   + getSkillRepository() : SkillRepository
   + getOrganizationRepository() : OrganizationRepository
   + Collaborator findCollaboratorByID(int IDnumber)
   + Skill findByName(String name)
 }

 class AssignSkillUI {
 }

AssignSkillController -- Skill: assigns
Skill --> Collaborator: to
HRManager -> AssignSkillController: Uses


Repositories -> Repositories : instance
ApplicationSession -> ApplicationSession : instance
AssignSkillUI .> AssignSkillController

AssignSkillController .> Repositories : repositories

Repositories --> "1" OrganizationRepository
Repositories --> "1" CollaboratorRepository
Repositories --> "1" SkillRepository

OrganizationRepository ...> "*" Organization
ApplicationSession --> "1" UserSession : userSession

AssignSkillController ..> "1" Organization : organization
AssignSkillController ..> ApplicationSession
AssignSkillController ..> UserSession
Collaborator --> HRManager : registered by

Organization --> "*" HRManager : employs
Organization --> "*" Collaborator : employs
Organization --> "*" Skill : owns

note right of AssignSkillController
  - Collaborator ID and Skill name are obtained from the HRM's selection
  - Updates the Collaborator Repository
end note

note right of HRManager
  - HRM initiates skill assignment
end note

note left of AssignSkillUI
  - UI for HRM to select collaborator(s) and skill(s) to be assigned
  - Communicates with AssignSkillController
end note

note left of Organization
  - Manages skills and collaborators
  - Handles organizational details
end note

@enduml